<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ‘€è·Ÿéšæ•ˆæœ</title>
  <link rel="stylesheet" href="./index.css">
</head>
<body>
  <div class="eyes">
    <div class="eye"></div>
    <div class="eye"></div>
  </div>
</body>
<script>
  const eyes = document.querySelectorAll('.eye')

  document.addEventListener('mousemove', e => {

    // æ”¹å˜ çœ¼ç› ::after ä¼ªå…ƒç´ çš„æ ·å¼
    document.styleSheets[0].addRule(
      '.eye::after',
      `top: 15px; left: 15px`
    )


    eyes.forEach(eye => {
      const clientRect = eye.getBoundingClientRect()
      console.log(clientRect)
      // è·å–çœ¼ç çš„ä¸­å¿ƒç‚¹
      const x = clientRect.right - 1/2 * clientRect.width;
      const y = clientRect.top + 1/2 * clientRect.height;

      // è®¡ç®—å¼§åº¦
      const radian = Math.atan2(e.clientX - x, e.clientY -y);
      console.log(radian)

      // æ¢ç®—è§’åº¦
      const angle =  270 - 180 * radian / Math.PI 

      // è®¾ç½®æ ·å¼ (æ”¹å˜é˜´å½±é€‰æ‹©è§’åº¦)
      eye.style.cssText += `
        transform: rotate(${angle}deg);
      `
    })
  })
</script>
</html>